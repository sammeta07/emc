<div class="registration">
  <h2>Create an account</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <label>
      First name
      <input type="text" formControlName="firstname" />
    </label>
    @if (control('firstname')?.touched && control('firstname')?.invalid) {
      <div class="error">
        @if (control('firstname')?.errors?.['required']) {
          First name is required.
        }
        @if (control('firstname')?.errors?.['minlength']) {
          First name must be at least 2 characters.
        }
        @if (control('firstname')?.errors?.['maxlength']) {
          First name must be at most 50 characters.
        }
      </div>
    }

    <label>
      Last name
      <input type="text" formControlName="lastname" />
    </label>
    @if (control('lastname')?.touched && control('lastname')?.invalid) {
      <div class="error">
        @if (control('lastname')?.errors?.['required']) {
          Last name is required.
        }
        @if (control('lastname')?.errors?.['minlength']) {
          Last name must be at least 2 characters.
        }
        @if (control('lastname')?.errors?.['maxlength']) {
          Last name must be at most 50 characters.
        }
      </div>
    }

    <label>
      Mobile
      <input type="tel" formControlName="mobile" />
    </label>
    @if (control('mobile')?.touched && control('mobile')?.invalid) {
      <div class="error">
        @if (control('mobile')?.errors?.['required']) {
          Mobile number is required.
        }
        @if (control('mobile')?.errors?.['pattern']) {
          Mobile must be a 10-digit number.
        }
      </div>
    }

    <label>
      Email
      <input type="email" formControlName="email" />
    </label>
    @if (control('email')?.touched && control('email')?.invalid) {
      <div class="error">
        @if (control('email')?.errors?.['required']) {
          Email is required.
        }
        @if (control('email')?.errors?.['email']) {
          Please enter a valid email address.
        }
      </div>
    }

    <button type="submit" [disabled]="form.invalid">Register</button>

    <p class="login-link">Already registered? <a routerLink="/login">Login here</a></p>

    @if (submitted() && form.valid) {
      <div class="success">Registration submitted successfully âœ…</div>
    }
  </form>
</div>
